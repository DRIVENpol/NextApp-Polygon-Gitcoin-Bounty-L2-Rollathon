var $e=Object.create;var Z=Object.defineProperty,Je=Object.defineProperties,Ye=Object.getOwnPropertyDescriptor,et=Object.getOwnPropertyDescriptors,tt=Object.getOwnPropertyNames,z=Object.getOwnPropertySymbols,nt=Object.getPrototypeOf,re=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var Ce=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f=(e,t)=>{for(var n in t||(t={}))re.call(t,n)&&Ce(e,n,t[n]);if(z)for(var n of z(t))ve.call(t,n)&&Ce(e,n,t[n]);return e},A=(e,t)=>Je(e,et(t)),o=(e,t)=>Z(e,"name",{value:t,configurable:!0}),X=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,n)=>(typeof require!="undefined"?require:t)[n]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var T=(e,t)=>{var n={};for(var r in e)re.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&z)for(var r of z(e))t.indexOf(r)<0&&ve.call(e,r)&&(n[r]=e[r]);return n};var rt=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of tt(t))!re.call(e,i)&&i!==n&&Z(e,i,{get:()=>t[i],enumerable:!(r=Ye(t,i))||r.enumerable});return e};var $=(e,t,n)=>(n=e!=null?$e(nt(e)):{},rt(t||!e||!e.__esModule?Z(n,"default",{value:e,enumerable:!0}):n,e));import{ChainId as V}from"@thirdweb-dev/sdk";import{ethers as ot,utils as it}from"ethers";import B from"tiny-invariant";import{Connector as at,normalizeChainId as st}from"wagmi";var we={[V.Mainnet]:"https://safe-transaction.mainnet.gnosis.io",[V.Avalanche]:"https://safe-transaction.avalanche.gnosis.io",[V.Polygon]:"https://safe-transaction.polygon.gnosis.io",[V.Goerli]:"https://safe-transaction.goerli.gnosis.io",[V.Rinkeby]:"https://safe-transaction.rinkeby.gnosis.io"},be=typeof window>"u",W=class extends at{id="gnosis";ready=be;name="Gnosis Safe";constructor(t){var n;t.chains=(n=t.chains)==null?void 0:n.filter(r=>r.id in we),super(A(f({},t),{options:void 0})),be||(this.ready=!0)}async connect(){this.safeSigner=await this.createSafeSigner();let t=await this.getAccount(),n=await this.getProvider(),r=await this.getChainId();return{account:t,provider:n,chain:{id:r,unsupported:this.isChainUnsupported(r)}}}async createSafeSigner(){var v,C,k;let t=await((v=this.previousConnector)==null?void 0:v.getSigner()),n=(C=this.config)==null?void 0:C.safeAddress,r=(k=this.config)==null?void 0:k.safeChainId;B(t,"cannot create Gnosis Safe signer without a personal signer");let i=await t.getChainId();B(i===r,"chainId of personal signer has to match safe chainId"),B(n,"safeConfig.safeAddress is required, did you forget to call setSafeConfig?"),B(r,"safeConfig.safeChainId is required, did you forget to call setSafeConfig?");let a=we[r];B(a,"Chain not supported");let[s,c,p]=await Promise.all([Promise.resolve().then(()=>$(X("@gnosis.pm/safe-ethers-adapters"))),Promise.resolve().then(()=>$(X("@gnosis.pm/safe-core-sdk"))),Promise.resolve().then(()=>$(X("@gnosis.pm/safe-ethers-lib")))]),g=new p.default({ethers:ot,signer:t}),d=await c.default.create({ethAdapter:g,safeAddress:n}),h=new s.SafeService(a);return new s.SafeEthersSigner(d,h,t.provider)}async disconnect(){this.config=void 0,this.safeSigner=void 0,this.previousConnector=void 0}async getAccount(){return await(await this.getSigner()).getAddress()}async getChainId(){return(await this.getSigner()).getChainId()}async getProvider(){return(await this.getSigner()).provider}async getSigner(){return this.safeSigner||(this.safeSigner=await this.createSafeSigner()),this.safeSigner}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}onAccountsChanged(t){t.length===0?this.emit("disconnect"):this.emit("change",{account:it.getAddress(t[0])})}isChainUnsupported(t){var n;return(n=this.config)!=null&&n.safeChainId?t===this.config.safeChainId:!1}onChainChanged(t){let n=st(t),r=this.isChainUnsupported(n);this.emit("change",{chain:{id:n,unsupported:r}})}onDisconnect(){this.emit("disconnect")}setConfiguration(t,n){this.previousConnector=t,this.config=n}};o(W,"GnosisSafeConnector");import{providers as ct,utils as ut}from"ethers";import oe from"tiny-invariant";import{Connector as lt,normalizeChainId as dt}from"wagmi";var ie=typeof window>"u",H=class extends lt{id="magic";name="Magic";ready=ie;getConfiguration(){if(ie)return;let t=window.localStorage.getItem("-magic-link:configuration");return t&&(this.configuration=JSON.parse(t)),this.configuration}constructor(t){if(super(A(f({},t),{options:t==null?void 0:t.options})),this.options=t.options,!ie){if(this.ready=!0,this.options.doNotAutoConnect||!this.getConfiguration())return;this.connect(!0)}}async connect(t){let c=this.options,{apiKey:n,doNotAutoConnect:r,rpcUrls:i}=c,a=T(c,["apiKey","doNotAutoConnect","rpcUrls"]),s=this.getConfiguration();try{return oe(s,"did you forget to set the configuration via: setConfiguration()?"),t&&(s.showUI=!1),Promise.resolve().then(()=>$(X("magic-sdk"))).then(async p=>{this.magic=new p.Magic(n,a),await this.magic.auth.loginWithMagicLink(s);let g=this.getProvider();g.on&&(g.on("accountsChanged",this.onAccountsChanged),g.on("chainChanged",this.onChainChanged),g.on("disconnect",this.onDisconnect));let d=await this.getAccount(),h=await this.getChainId();return{account:d,provider:g,chain:{id:h,unsupported:this.isChainUnsupported(h)}}})}catch(p){if(!t)throw p;return{account:void 0,provider:void 0,chain:void 0}}}async disconnect(){let t=this.getProvider();t!=null&&t.removeListener&&(t.removeListener("accountsChanged",this.onAccountsChanged),t.removeListener("chainChanged",this.onChainChanged),t.removeListener("disconnect",this.onDisconnect)),this.setConfiguration(void 0)}async switchChain(t){oe(!this.isChainUnsupported(t),"chain is not supported");let n=this.getProvider();return n!=null&&n.removeListener&&(n.removeListener("accountsChanged",this.onAccountsChanged),n.removeListener("chainChanged",this.onChainChanged),n.removeListener("disconnect",this.onDisconnect)),this.options.network={chainId:t,rpcUrl:this.options.rpcUrls[t]},await this.connect(),this.onChainChanged(t),this.chains.find(r=>r.id===t)}async getAccount(){return await(await this.getSigner()).getAddress()}async getChainId(){return await(await this.getSigner()).getChainId()}getProvider(){return oe(this.magic,"connector is not initialized"),new ct.Web3Provider(this.magic.rpcProvider)}async getSigner(){return this.magic||await this.connect(),this.getProvider().getSigner()}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}onAccountsChanged(t){t.length===0?this.emit("disconnect"):this.emit("change",{account:ut.getAddress(t[0])})}isChainUnsupported(t){return!this.chains.some(n=>n.id===t)}onChainChanged(t){let n=dt(t),r=this.isChainUnsupported(n);this.emit("change",{chain:{id:n,unsupported:r}})}onDisconnect(){this.emit("disconnect")}setConfiguration(t){t?(this.configuration=t,window.localStorage.setItem("-magic-link:configuration",JSON.stringify(t))):(this.configuration=void 0,window.localStorage.removeItem("-magic-link:configuration"))}};o(H,"MagicConnector");import{ChainId as q}from"@thirdweb-dev/sdk";var pt={mainnet:{id:q.Mainnet,name:"Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:["https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://etherscan.io"}]},rinkeby:{id:q.Rinkeby,name:"Rinkeby",nativeCurrency:{name:"Rinkeby Ether",symbol:"rETH",decimals:18},rpcUrls:["https://rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://rinkeby.etherscan.io"}],testnet:!0},goerli:{id:q.Goerli,name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"gETH",decimals:18},rpcUrls:["https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],blockExplorers:[{name:"Etherscan",url:"https://goerli.etherscan.io"}],testnet:!0},polygonMainnet:{id:q.Polygon,name:"Polygon Mainnet",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},rpcUrls:["https://polygon-rpc.com","https://rpc-mainnet.matic.network","https://matic-mainnet.chainstacklabs.com","https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet-full-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://polygonscan.com"}]},polygonTestnetMumbai:{id:q.Mumbai,name:"Polygon Testnet Mumbai",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.maticvigil.com","https://matic-testnet-archive-rpc.bwarelabs.com"],blockExplorers:[{name:"Polygonscan",url:"https://mumbai.polygonscan.com"}],testnet:!0},avalanche:{id:q.Avalanche,name:"Avalanche",nativeCurrency:{name:"AVAX",symbol:"AVAX",decimals:18},rpcUrls:["https://api.avax.network/ext/bc/C/rpc","https://rpc.ankr.com/avalanche"],blockExplorers:[{name:"SnowTrace",url:"https://snowtrace.io/"}],testnet:!1},fantom:{id:q.Fantom,name:"Fantom Opera",nativeCurrency:{name:"Fantom",symbol:"FTM",decimals:18},rpcUrls:["https://rpc.ftm.tools"],blockExplorerUrls:[{name:"FTMScan",url:"https://ftmscan.com/"}],testnet:!1}},J=Object.values(pt);import{Signer as mt}from"ethers";import{useEffect as Se,useRef as Ae}from"react";import{useAccount as ft,useNetwork as ht,useSigner as gt}from"wagmi";function ke(){var g,d,h,v,C;let[e,t]=gt(),[n]=ft(),[r]=ht(),i=Ae(null),a=(g=n.data)==null?void 0:g.address,s=(d=r.data.chain)==null?void 0:d.id,c=xe((h=n.data)==null?void 0:h.address),p=xe((C=(v=r.data)==null?void 0:v.chain)==null?void 0:C.id);return Se(()=>{if(a!==c||s!==p)if(i.current)i.current=t().finally(()=>{i.current=null});else return},[a,s,c,p]),mt.isSigner(e.data)?e.data:void 0}o(ke,"useSigner");function xe(e){let t=Ae();return Se(()=>{t.current=e},[e]),t.current}o(xe,"usePrevious");import{ThirdwebSDK as yt}from"@thirdweb-dev/sdk";import R,{createContext as Ct,useEffect as vt,useMemo as F}from"react";import{QueryClient as wt,QueryClientProvider as bt}from"react-query";import ae from"tiny-invariant";import{WagmiProvider as xt,useProvider as St}from"wagmi";import{CoinbaseWalletConnector as At}from"wagmi/connectors/coinbaseWallet";import{InjectedConnector as kt}from"wagmi/connectors/injected";import{WalletConnectConnector as Et}from"wagmi/connectors/walletConnect";function Y(){return Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}o(Y,"_extends");var Tt=J.reduce((e,t)=>A(f({},e),{[t.id]:t.rpcUrls[0]}),{}),It={name:"thirdweb powered dApp"},Pt=["metamask","walletConnect","walletLink"],Hn=o(({sdkOptions:e,chainRpc:t=Tt,supportedChains:n=J.map(d=>d.id),walletConnectors:r=Pt,dAppMeta:i=It,desiredChainId:a,storageInterface:s,queryClient:c,autoConnect:p=!0,children:g})=>{let d=F(()=>n.map(y=>typeof y=="number"?J.find(S=>S.id===y):y).filter(y=>y!==void 0),[n]),h=F(()=>d.reduce((y,S)=>(y[S.id]=S.id in t&&t[S.id]||S.rpcUrls[0],y),{}),[t,d]),v=F(()=>{let y={name:i.name,url:i.url||"",icons:[i.logoUrl||""],description:i.description||""},S={appName:i.name,appLogoUrl:i.logoUrl,darkMode:i.isDarkMode};return{autoConnect:p,connectorStorageKey:"tw:provider:connectors",connectors:({chainId:L})=>r.map(m=>{if(typeof m=="string"&&(m==="injected"||m==="metamask")||typeof m=="object"&&(m.name==="injected"||m.name==="metamask"))return new kt({options:typeof m=="string"?{shimDisconnect:!0,shimChainChangedDisconnect:!0}:m.options,chains:d});if(typeof m=="string"&&m==="walletConnect"||typeof m=="object"&&m.name==="walletConnect")return new Et({options:typeof m=="string"?{chainId:L,rpc:h,clientMeta:y,qrcode:!0}:f({chainId:L,rpc:h,clientMeta:y,qrcode:!0},m.options),chains:d});if(typeof m=="string"&&(m==="coinbase"||m==="walletLink")||typeof m=="object"&&(m.name==="coinbase"||m.name==="walletLink")){let G=h[L||a||1];return new At({chains:d,options:typeof m=="string"?A(f({},S),{jsonRpcUrl:G}):f(A(f({},S),{jsonRpcUrl:G}),m.options)})}if(typeof m=="object"&&m.name==="magic"){let G=h[L||a||1];return new H({chains:d,options:A(f({},m.options),{network:{rpcUrl:G,chainId:a||1},rpcUrls:h})})}return typeof m=="string"&&m==="gnosis"||typeof m=="object"&&m.name==="gnosis"?new W({chains:d}):null}).filter(m=>m!==null)}},[r,d,i]),C=h[a||-1],k=F(()=>{var S;let y=e;return A(f({},y),{readonlySettings:A(f({},(y==null?void 0:y.readonlySettings)||{}),{rpcUrl:(S=y==null?void 0:y.readonlySettings)!=null&&S.rpcUrl?y.readonlySettings.rpcUrl:C})})},[e,C]),_=F(()=>c||new wt,[c]);return R.createElement(bt,{client:_},R.createElement(xt,Y({},v),R.createElement(Mt,{desiredChainId:a,sdkOptions:k,storageInterface:s},g)))},"ThirdwebProvider"),Mt=o(n=>{var r=n,{children:e}=r,t=T(r,["children"]);let i=St(),a=ke();return R.createElement(Ut,Y({signer:a,provider:i},t),e)},"ThirdwebSDKProviderWagmiWrapper"),ee=Ct({desiredChainId:-1}),Ut=o(({sdkOptions:e,desiredChainId:t,storageInterface:n,provider:r,signer:i,children:a})=>{let s=F(()=>{if(!t||typeof window>"u")return;let p=new yt(r,e,n);return p._chainId=t,p},[r,e,n,t]);vt(()=>{i&&s&&s._chainId===t&&s.updateSignerOrProvider(i)},[i,s,t]);let c=F(()=>({sdk:s,desiredChainId:t||-1,_inProvider:!0}),[s]);return R.createElement(ee.Provider,{value:c},a)},"ThirdwebSDKProvider");function D(){let e=R.useContext(ee);return ae(e._inProvider,"useSDK must be called from within a ThirdwebProvider, did you forget to wrap your app in a <ThirdwebProvider />?"),e.sdk}o(D,"useSDK");function Ee(){let e=R.useContext(ee);return ae(e._inProvider,"useDesiredChainId must be called from within a ThirdwebProvider, did you forget to wrap your app in a <ThirdwebProvider />?"),e.desiredChainId}o(Ee,"useDesiredChainId");function I(){var t;let e=R.useContext(ee);return ae(e._inProvider,"useActiveChainId must be called from within a ThirdwebProvider, did you forget to wrap your app in a <ThirdwebProvider />?"),(t=e.sdk)==null?void 0:t._chainId}o(I,"useActiveChainId");function x(e,t){let n=D();if(!(!n||!t||!e))return n.getBuiltInContract(t,e)}o(x,"useBuiltinContract");function $n(e){return x("edition-drop",e)}o($n,"useEditionDrop");function er(e){return x("edition",e)}o(er,"useEdition");function rr(e){return x("nft-drop",e)}o(rr,"useNFTDrop");function ar(e){return x("marketplace",e)}o(ar,"useMarketplace");function ur(e){return x("nft-collection",e)}o(ur,"useNFTCollection");function pr(e){return x("pack",e)}o(pr,"usePack");function hr(e){return x("token",e)}o(hr,"useToken");function Cr(e){return x("token-drop",e)}o(Cr,"useTokenDrop");function br(e){return x("vote",e)}o(br,"useVote");function Ar(e){return x("split",e)}o(Ar,"useSplit");import{useConnect as Lt}from"wagmi";function M(){return Lt()}o(M,"useConnect");import{useAccount as Nt}from"wagmi";function Kr(e){let t=f({reconnectAfterGnosis:!0},e),[,n]=M(),[r,i]=Nt();return async()=>{var s;let a=((s=r.data)==null?void 0:s.connector)instanceof W&&r.data.connector.previousConnector||void 0;if(t.reconnectAfterGnosis&&a)try{return await n(a)}catch(c){return console.error("failed to re-connect to previous connector",c),i()}return i()}}o(Kr,"useDisconnect");import{useAccount as _t}from"wagmi";function se(){var t;let[e]=_t();return(t=e.data)==null?void 0:t.address}o(se,"useAddress");import{ThirdwebSDK as Dt}from"@thirdweb-dev/sdk";import{useMemo as Rt}from"react";function Zr(e,t,n){return Rt(()=>new Dt(e,A(f({},t),{readonlySettings:A(f({},t==null?void 0:t.readonlySettings),{rpcUrl:e})}),n),[e,t])}o(Zr,"useReadonlySDK");import{detect as Wt}from"detect-browser";function qt(e){return Wt(e)}o(qt,"detectEnv");function ce(){let e=ue();return e?e.toLowerCase().includes("android"):!1}o(ce,"isAndroid");function Ft(){let e=ue();return e?e.toLowerCase().includes("ios")||e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}o(Ft,"isIOS");function ue(){let e=qt();return e!=null&&e.os?e.os:void 0}o(ue,"detectOS");function Te(){return ue()?ce()||Ft():!1}o(Te,"isMobile");import jt from"tiny-invariant";function no(){var c;let[e,t]=M();if(e.loading)return()=>Promise.reject("Metamask connector not ready to be used, yet");let n=typeof window<"u"&&((c=window.ethereum)==null?void 0:c.isMetaMask),r=Te()&&!n,i=e.data.connectors.find(p=>p.id==="injected"),a=e.data.connectors.find(p=>p.id==="walletConnect"),s=(r?a:i)||i;return jt(s,"No connector found, please make sure you provide the InjectedConnector to your <ThirdwebProvider />"),async()=>{if(!n){let p=`https://metamask.app.link/dapp/${window.location.host+window.location.pathname+window.location.search}`;if(r&&s.id==="walletConnect")try{p=(await s.getProvider()).connector.uri,p=ce()?p:`https://metamask.app.link/dapp/${window.location.host+window.location.pathname+window.location.search}`}catch(g){console.warn("failed to get provider.connector.uri",g)}return window.open(p,"_blank"),Promise.resolve({error:new Error("metamask not injected")})}return await t(s)}}o(no,"useMetamask");import Ot from"tiny-invariant";function ao(){let[e,t]=M();if(e.loading)return()=>Promise.reject("WalletConnect connector not ready to be used, yet");let n=e.data.connectors.find(r=>r.id==="walletConnect");return Ot(n,"WalletConnect connector not found, please make sure it is provided to your <ThirdwebProvider />"),()=>t(n)}o(ao,"useWalletConnect");import Qt from"tiny-invariant";function Kt(){let[e,t]=M();if(e.loading)return()=>Promise.reject("Coinbase connector not ready to be used, yet");let n=e.data.connectors.find(r=>r.id==="coinbasewallet");return Qt(n,"Coinbase connector not found, please make sure it is provided to your <ThirdwebProvider />"),()=>t(n)}o(Kt,"useCoinbaseWallet");function lo(){return Kt()}o(lo,"useWalletLink");import{utils as Vt}from"ethers";import te from"tiny-invariant";function go(){let[e,t]=M();if(e.loading)return()=>Promise.reject("Gnosis connector not ready to be used, yet");let n=e.data.connectors.find(r=>r.id==="gnosis");return te(n,"Gnosis connector not found, please make sure it is provided to your <ThirdwebProvider />"),async r=>{let i=e.data.connector,a=await(i==null?void 0:i.getChainId());return te(!!i,"Cannot connect to Gnosis Safe without first being connected to a personal wallet."),te(a===r.safeChainId,"Gnosis safe chain id must match personal wallet chain id."),te(Vt.isAddress(r.safeAddress),"Gnosis safe address must be a valid address."),n.setConfiguration(i,r),t(n)}}o(go,"useGnosis");import Bt from"tiny-invariant";function wo(){let[e,t]=M();if(e.loading)return()=>Promise.reject("Magic connector not ready to be used, yet");let n=e.data.connectors.find(r=>r.id==="magic");return Bt(n,"Magic connector not found, please make sure it is provided to your <ThirdwebProvider />"),r=>(n.setConfiguration(r),t(n))}o(wo,"useMagic");import{useNetwork as Ht}from"wagmi";function Ie(){var e;return(e=Ht()["0"].data.chain)==null?void 0:e.id}o(Ie,"useChainId");function Eo(){let e=Ee(),t=Ie();return e===-1||!t?!1:e!==t}o(Eo,"useNetworkMismatch");import{useNetwork as Gt}from"wagmi";function Po(){return Gt()}o(Po,"useNetwork");import{defaultChains as ba,defaultL2Chains as xa,useAccount as Sa}from"wagmi";import{ChainId as ka,IpfsStorage as Ea}from"@thirdweb-dev/sdk";var zt="https://gateway.ipfscdn.io/ipfs/",Pe={gatewayUrl:zt};import Zt from"mime/lite";function Me(e,t=Pe){if(!!e)return e.startsWith("ipfs://")?e.replace("ipfs://",t.gatewayUrl):e}o(Me,"resolveIpfsUri");async function Ue(e){var r;if(!e)return;let t=Zt.getType(e);if(t)return t;let n=await fetch(e,{method:"HEAD"});if(n.ok&&n.headers.has("content-type"))return(r=n.headers.get("content-type"))!=null?r:void 0}o(Ue,"resolveMimeType");var le;function Xt(e){return typeof window>"u"||!e||!e.startsWith("video/")?"":(le||(le=document.createElement("video")),le.canPlayType(e))}o(Xt,"supportsVideoType");function Le(e){return!!Xt(e)}o(Le,"shouldRenderVideoTag");var de;function $t(e){return typeof window>"u"||!e||!e.startsWith("audio/")?"":(de||(de=document.createElement("audio")),de.canPlayType(e))}o($t,"supportsAudioType");function Ne(e){return!!$t(e)}o(Ne,"shouldRenderAudioTag");function pe(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}o(pe,"mergeRefs");import N from"react";function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}o(j,"_extends");var _e=o(e=>N.createElement("svg",j({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),N.createElement("circle",{cx:"9",cy:"28.5",r:"1.5",fill:"currentColor"}),N.createElement("path",{fill:"currentColor",d:"M10 25H8v-4h2a2 2 0 0 0 0-4H8a2.002 2.002 0 0 0-2 2v.5H4V19a4.005 4.005 0 0 1 4-4h2a4 4 0 0 1 0 8Z"}),N.createElement("path",{fill:"currentColor",d:"m27.7 9.3l-7-7A.908.908 0 0 0 20 2H10a2.006 2.006 0 0 0-2 2v8h2V4h8v6a2.006 2.006 0 0 0 2 2h6v16H14v2h12a2.006 2.006 0 0 0 2-2V10a.91.91 0 0 0-.3-.7ZM20 10V4.4l5.6 5.6Z"})),"CarbonDocumentUnknown"),De=o(e=>N.createElement("svg",j({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),N.createElement("path",{fill:"currentColor",d:"M29 31a.999.999 0 0 1-.625-.22L23.65 27H20a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1h3.65l4.726-3.78A1 1 0 0 1 30 17v13a1 1 0 0 1-1 1Zm-8-6h3a1 1 0 0 1 .625.22L28 27.92v-8.84l-3.376 2.7A1 1 0 0 1 24 22h-3Z"}),N.createElement("path",{fill:"currentColor",d:"M16 28H8V4h8v6a2.006 2.006 0 0 0 2 2h6v3h2v-5a.91.91 0 0 0-.3-.7l-7-7A.909.909 0 0 0 18 2H8a2.006 2.006 0 0 0-2 2v24a2.006 2.006 0 0 0 2 2h8Zm2-23.6l5.6 5.6H18Z"})),"CarbonDocumentAudio"),Re=o(e=>N.createElement("svg",j({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),N.createElement("path",{fill:"currentColor",d:"M12 6h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm10 0h-2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2z"})),"CarbonPauseFilled"),We=o(e=>N.createElement("svg",j({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),N.createElement("path",{fill:"currentColor",d:"M7 28a1 1 0 0 1-1-1V5a1 1 0 0 1 1.482-.876l20 11a1 1 0 0 1 0 1.752l-20 11A1 1 0 0 1 7 28Z"})),"CarbonPlayFilledAlt");import l,{useEffect as Fe,useMemo as Jt,useRef as je,useState as O}from"react";import Yt from"react-cool-dimensions";import{useQuery as en}from"react-query";function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}o(P,"_extends");var me=o(({onClick:e,isPlaying:t})=>{let[n,r]=O(!1),i=o(()=>r(!0),"onMouseEnter"),a=o(()=>r(!1),"onMouseLeave"),s=o(()=>r(!1),"onMouseDown"),c=o(()=>r(!0),"onMouseUp");return l.createElement("button",{style:f({position:"absolute",bottom:0,right:0,transform:"translate(-25%, -25%)",maxWidth:"32px",width:"8%",minWidth:"24px",aspectRatio:"1",zIndex:3,backgroundColor:"#fff",color:"rgb(138, 147, 155)",display:"grid",placeItems:"center",borderRadius:"50%",border:"1px solid rgb(229, 232, 235)",cursor:"pointer"},n?{color:"rgb(53, 56, 64)",boxShadow:"rgb(4 17 29 / 25%) 0px 0px 8px 0px"}:{}),onClick:e,onMouseEnter:i,onMouseLeave:a,onMouseDown:s,onMouseUp:c},t?l.createElement(Re,{style:{width:"66%",height:"66%"}}):l.createElement(We,{style:{width:"66%",height:"66%"}}))},"PlayButton"),tn=l.forwardRef((h,d)=>{var v=h,{src:e,alt:t,poster:n,requireInteraction:r,children:i,style:a,width:s,height:c,controls:p}=v,g=T(v,["src","alt","poster","requireInteraction","children","style","width","height","controls"]);let C=je(null),[k,_]=O(!r),[y,S]=O(!0);return Fe(()=>{C.current&&(k?C.current.play():(C.current.pause(),C.current.currentTime=0))},[k]),l.createElement("div",P({style:f({position:"relative"},a)},g),l.createElement("video",{ref:pe([C,d]),src:e,poster:n,loop:!0,playsInline:!0,muted:y,preload:n?"metadata":"auto",onCanPlay:()=>{var L;k&&((L=C.current)==null||L.play())},width:s,height:c,controls:p,style:{height:"100%",width:"100%",objectFit:"contain",zIndex:1,transition:"opacity .5s",opacity:n?k?1:0:1}}),n&&l.createElement("img",{src:n,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:k?0:1,top:0,left:0,right:0,bottom:0}}),l.createElement(me,{onClick:()=>{_(L=>!L),S(!1)},isPlaying:k}))}),nn=l.forwardRef((h,d)=>{var v=h,{src:e,alt:t,poster:n,requireInteraction:r,children:i,style:a,height:s,width:c,controls:p}=v,g=T(v,["src","alt","poster","requireInteraction","children","style","height","width","controls"]);let C=je(null),[k,_]=O(!1),[y,S]=O(!0);return Fe(()=>{C.current&&(k?C.current.play():(C.current.pause(),C.current.currentTime=0))},[k]),l.createElement("div",P({style:f({position:"relative"},a)},g),n?l.createElement("img",{height:s,width:c,src:n,style:{height:"100%",width:"100%",pointerEvents:"none",objectFit:"contain"}}):l.createElement("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",pointerEvents:"none",backgroundColor:"#fff",color:"rgb(138, 147, 155)"}},l.createElement(De,{style:{height:"64px",width:"64px"}})),l.createElement(me,{onClick:()=>{_(L=>!L),S(!1)},isPlaying:k}),l.createElement("audio",{ref:pe([C,d]),src:e,loop:!0,playsInline:!0,muted:y,style:{position:"absolute",opacity:0,pointerEvents:"none",zIndex:-1,visibility:"hidden"}}))}),rn=l.forwardRef((h,d)=>{var v=h,{src:e,alt:t,poster:n,requireInteraction:r,children:i,style:a,height:s,width:c,controls:p}=v,g=T(v,["src","alt","poster","requireInteraction","children","style","height","width","controls"]);let{observe:C,width:k}=Yt(),[_,y]=O(!r);return k<300?l.createElement("div",{ref:C},l.createElement(Oe,P({style:a,src:e,alt:t},g))):l.createElement("div",P({style:f({position:"relative"},a)},g,{ref:C}),l.createElement("iframe",{src:_?e:void 0,ref:d,style:{objectFit:"contain",zIndex:1,height:"100%",width:"100%",transition:"opacity .5s",opacity:n?_?1:0:1}}),n&&l.createElement("img",{src:n,style:{objectFit:"contain",pointerEvents:"none",position:"absolute",width:"100%",height:"100%",zIndex:2,transition:"opacity .5s",opacity:_?0:1,top:0,left:0,right:0,bottom:0}}),l.createElement(me,{onClick:()=>{y(S=>!S)},isPlaying:_}))}),Oe=l.forwardRef((h,d)=>{var v=h,{src:e,alt:t,poster:n,requireInteraction:r,children:i,style:a,height:s,width:c,controls:p}=v,g=T(v,["src","alt","poster","requireInteraction","children","style","height","width","controls"]);return l.createElement("div",P({style:f({position:"relative"},a)},g),l.createElement("div",{style:{width:"100%",height:"100%",display:"grid",placeItems:"center",backgroundColor:"#fff",color:"rgb(138, 147, 155)"}},l.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center",flexWrap:"nowrap"}},l.createElement(_e,{style:{maxWidth:"128px",minWidth:"48px",width:"50%",aspectRatio:"1"}}),l.createElement("a",{rel:"noopener noreferrer",style:{textDecoration:"underline",color:"rgb(138, 147, 155)"},href:e,target:"_blank",ref:d},t||"File"))))}),Qe=l.forwardRef((p,c)=>{var g=p,{children:e,src:t,poster:n,alt:r,requireInteraction:i=!1,style:a}=g,s=T(g,["children","src","poster","alt","requireInteraction","style"]);let d=f({objectFit:"contain"},a),h=qe(t),v=qe(n);if(h.mimeType){if(h.mimeType==="text/html")return l.createElement(rn,P({style:d,src:h.url,poster:v.url,requireInteraction:i},s));if(Le(h.mimeType))return l.createElement(tn,P({style:d,src:h.url,poster:v.url,requireInteraction:i},s));if(Ne(h.mimeType))return l.createElement(nn,P({style:d,src:h.url,poster:v.url,requireInteraction:i},s));if(h.mimeType.startsWith("image/"))return l.createElement("img",P({style:d,src:h.url,alt:r,ref:c},s))}else return l.createElement("img",P({style:d},s,{ref:c}));return l.createElement(Oe,P({style:d,src:h.url,alt:r,ref:c},s))});function qe(e){let t=Jt(()=>Me(e),[e]),n=en(["mime-type",t],()=>Ue(t),{enabled:!!t});return{url:t,mimeType:n.data}}o(qe,"useResolvedMediaType");import Ke from"react";function fe(){return fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}o(fe,"_extends");var Zo=Ke.forwardRef((r,n)=>{var i=r,{metadata:e}=i,t=T(i,["metadata"]);return Ke.createElement(Qe,fe({src:e.animation_url||e.image,poster:e.image,alt:e.name,ref:n},t))});import{constants as on}from"ethers";var Ve="tw-cache";function Be(e){return e[0]===Ve?e:[Ve,...e]}o(Be,"createCachekey");function E(e=on.AddressZero,t){return Be(["contract",e,...t])}o(E,"createContractCacheKey");function w(e,t){return u.network.active(t).concat(e)}o(w,"createCacheKeyWithNetwork");var u={network:{active:e=>Be(["chainId",e])},contract:{type:e=>E(e,["contract-type"]),publishMetadata:e=>E(e,["publish-metadata"]),typeAndPublishMetadata:e=>E(e,["contract-type-and-metadata"]),metadata:e=>E(e,["metadata"]),extractFunctions:e=>E(e,["extractFunctions"]),nft:{query:{all:(e,t)=>E(e,t?["query","all",t]:["query","all"]),totalSupply:e=>E(e,["query","totalSupply"])},drop:{getAllUnclaimed:(e,t)=>E(e,t?["getAllUnclaimed",t]:["getAllUnclaimed"]),totalUnclaimedSupply:e=>E(e,["totalUnclaimedSupply"]),totalClaimedSupply:e=>E(e,["totalClaimedSupply"])}},edition:{query:{all:(e,t)=>E(e,t?["query","all",t]:["query","all"]),getTotalCount:e=>E(e,["query","getTotalCount"])}},token:{totalSupply:e=>E(e,["totalSupply"]),balanceOf:(e,t)=>E(e,["balanceOf",t])},marketplace:{getAllListings:(e,t)=>E(e,t?["getAllListings",t]:["getAllListings"]),getActiveListings:(e,t)=>E(e,t?["getActiveListings",t]:["getActiveListings"])}}};import{useQuery as an}from"react-query";function b(e,t,n){let r=I(),i=A(f({},n),{enabled:!!(r&&(n==null?void 0:n.enabled))});return an(w(e,r),t,i)}o(b,"useQueryWithNetwork");import{CONTRACTS_MAP as sn,SmartContract as cn}from"@thirdweb-dev/sdk";import{useQueryClient as he}from"react-query";import un from"tiny-invariant";async function He(e,t){if(!(!e||!t))try{return await t.resolveContractType(e)}catch{return"custom"}}o(He,"fetchContractType");async function Ge(e,t){if(!(!e||!t))return await(await t.getPublisher()).fetchContractMetadataFromAddress(e)}o(Ge,"fetchContractPublishMetadata");async function ge(e,t,n){if(!t||!n)return;let r=await e.fetchQuery(w(u.contract.type(t),n._chainId),()=>He(t,n),{staleTime:1/0});if(r!=="custom")return{contractType:r,publishMetadata:null};let i=await e.fetchQuery(w(u.contract.publishMetadata(t),n._chainId),()=>Ge(t,n),{staleTime:1/0});return{contractType:r,publishMetadata:i}}o(ge,"fetchContractTypeAndPublishMetadata");function ye(e,t,n){var i;if(!t||!n||!e||!t.contractType)return;let r;return t.contractType!=="custom"&&(r=sn[t.contractType].contractAbi),t.contractType==="custom"&&t.publishMetadata&&(r=(i=t.publishMetadata)==null?void 0:i.abi),un(r,`could not resolve any ABI for contract${e}`),n.getContractFromAbi(e,r)}o(ye,"getContractFromCombinedTypeAndPublishMetadata");function ui(e){let t=D();return b(u.contract.type(e),()=>He(e,t),{enabled:!!t&&!!e,staleTime:1/0})}o(ui,"useContractType");function li(e){let t=D();return b(u.contract.publishMetadata(e),()=>Ge(e,t),{enabled:!!t&&!!e,staleTime:1/0})}o(li,"useContractPublishMetadata");function ln(e){let t=D(),n=he();return b(u.contract.typeAndPublishMetadata(e),()=>ge(n,e,t),{enabled:!!t&&!!e,staleTime:1/0})}o(ln,"useContractTypeAndPublishMetadata");function di(e){var i;let t=D(),n=ln(e);if(!e||!t||!((i=n.data)!=null&&i.contractType))return A(f({},n),{contract:void 0});let r=ye(e,n.data,t);return A(f({},n),{contract:r})}o(di,"useContract");function pi(e){let t=D(),n=he(),r=I();return b(u.contract.metadata(e),async()=>{var s;let i=await n.fetchQuery(w(u.contract.typeAndPublishMetadata(e),r),()=>ge(n,e,t),{staleTime:1/0}),a=ye(e,i,t);return(s=a==null?void 0:a.metadata)!=null&&s.get?await a.metadata.get():null},{enabled:!!e||!!t})}o(pi,"useContractMetadata");function mi(e){let t=D(),n=he(),r=I();return b(u.contract.extractFunctions(e),async()=>{let i=await n.fetchQuery(w(u.contract.typeAndPublishMetadata(e),r),()=>ge(n,e,t),{staleTime:1/0}),a=ye(e,i,t);return a instanceof cn?a.publishedMetadata.extractFunctions():null},{enabled:!!e||!!t,staleTime:1/0})}o(mi,"useContractFunctions");import{useMutation as dn,useQueryClient as pn}from"react-query";import Q from"tiny-invariant";function wi(e,t){let n=e==null?void 0:e.getAddress();return b(u.contract.edition.query.all(n,t),()=>{var r;return Q(e,"No Contract instance provided"),Q((r=e.query)==null?void 0:r.all,"Contract instance does not support query.all"),e.query.all(t)},{enabled:!!e||!n,keepPreviousData:!0})}o(wi,"useEditions");function bi(e,t){let n=e==null?void 0:e.getAddress();return b(u.contract.edition.query.getTotalCount(n),()=>{var r,i;return Q(e,"No Contract instance provided"),Q((r=e.query)==null?void 0:r.getTotalCount,"Contract instance does not support query.getTotalCount"),(i=e.query)==null?void 0:i.getTotalCount()},{enabled:!!e||!t})}o(bi,"useEditionTotalCount");function xi(e){let t=I(),n=e==null?void 0:e.getAddress(),r=pn();return dn(async i=>{var p;let c=i,{to:a}=c,s=T(c,["to"]);return Q(a,'No "to" address provided'),Q((p=e==null?void 0:e.mint)==null?void 0:p.to,"contract does not support mint.to"),await e.mint.to(a,s)},{onSuccess:()=>Promise.all([r.invalidateQueries(w(u.contract.edition.query.all(n),t)),r.invalidateQueries(w(u.contract.edition.query.getTotalCount(n),t))])})}o(xi,"useMintEdition");import{Erc721 as ze}from"@thirdweb-dev/sdk";import{useMutation as mn,useQueryClient as fn}from"react-query";import U from"tiny-invariant";function Mi(e){if(!!e){if(e instanceof ze)return e;if("nft"in e&&e.nft instanceof ze)return e.nft}}o(Mi,"detectErc721Instance");function hn(e,t){let n=e==null?void 0:e.getAddress();return b(u.contract.nft.query.all(n,t),()=>{var r;return U(e,"No Contract instance provided"),U((r=e.query)==null?void 0:r.all,"Contract instance does not support query.all"),e.query.all(t)},{enabled:!!e||!n,keepPreviousData:!0})}o(hn,"useNFTs");function Ui(e){let t=e==null?void 0:e.getAddress();return b(u.contract.nft.query.totalSupply(t),()=>{var n;return U(e,"No Contract instance provided"),U((n=e.query)==null?void 0:n.totalSupply,"Contract instance does not support query.totalSupply"),e.query.totalSupply()},{enabled:!!e})}o(Ui,"useNFTSupply");function Li(e,t){let n=e==null?void 0:e.getAddress();return b(u.contract.nft.drop.getAllUnclaimed(n,t),()=>(U(e,"No Contract instance provided"),U(e.getAllUnclaimed,"Contract instance does not support getAllUnclaimed"),e.getAllUnclaimed(t)))}o(Li,"useUnclaimedNFTs");function Ni(e,t){return hn(e,t)}o(Ni,"useClaimedNFTs");function _i(e){let t=e==null?void 0:e.getAddress();return b(u.contract.nft.drop.totalUnclaimedSupply(t),()=>(U(e,"No Contract instance provided"),U(e.totalUnclaimedSupply,"Contract instance does not support totalUnclaimedSupply"),e.totalUnclaimedSupply()))}o(_i,"useUnclaimedNftSupply");function Di(e){let t=e==null?void 0:e.getAddress();return b(u.contract.nft.drop.totalClaimedSupply(t),()=>(U(e,"No Contract instance provided"),U(e.totalClaimedSupply,"Contract instance does not support totalClaimedSupply"),e.totalClaimedSupply()))}o(Di,"useClaimedNftSupply");function Ri(e){let t=I(),n=e==null?void 0:e.getAddress(),r=fn();return mn(async i=>{var c;let{to:a,metadata:s}=i;return U(a,'No "to" address provided'),U((c=e==null?void 0:e.mint)==null?void 0:c.to,"contract does not support mint.to"),await e.mint.to(a,s)},{onSuccess:()=>Promise.all([r.invalidateQueries(w(u.contract.nft.query.all(n),t)),r.invalidateQueries(w(u.contract.nft.query.totalSupply(n),t))])})}o(Ri,"useMintNFT");import{useMutation as Ze,useQueryClient as Xe}from"react-query";import K from"tiny-invariant";function Vi(e,t){let n=e==null?void 0:e.getAddress();return b(u.contract.marketplace.getAllListings(n,t),()=>(K(e,"No Contract instance provided"),e.getAllListings(t)),{enabled:!!e||!n,keepPreviousData:!0})}o(Vi,"useAllListings");function Bi(e,t){let n=e==null?void 0:e.getAddress();return b(u.contract.marketplace.getActiveListings(n,t),()=>(K(e,"No Contract instance provided"),e.getActiveListings(t)),{enabled:!!e||!n,keepPreviousData:!0})}o(Bi,"useActiveListings");function Hi(e){let t=I(),n=e==null?void 0:e.getAddress(),r=Xe(),i=se();return Ze(async a=>{var s;return K(i,"no wallet connected, cannot create listing"),K((s=e==null?void 0:e.direct)==null?void 0:s.createListing,"contract does not support direct.createListing"),await e.direct.createListing(a)},{onSuccess:()=>Promise.all([r.invalidateQueries(w(u.contract.marketplace.getAllListings(n),t)),r.invalidateQueries(w(u.contract.marketplace.getActiveListings(n),t))])})}o(Hi,"useCreateDirectListing");function Gi(e){let t=I(),n=e==null?void 0:e.getAddress(),r=Xe(),i=se();return Ze(async a=>{var s;return K(i,"no wallet connected, cannot create listing"),K((s=e==null?void 0:e.direct)==null?void 0:s.createListing,"contract does not support auction.createListing"),await e.auction.createListing(a)},{onSuccess:()=>Promise.all([r.invalidateQueries(w(u.contract.marketplace.getAllListings(n),t)),r.invalidateQueries(w(u.contract.marketplace.getActiveListings(n),t))])})}o(Gi,"useCreateAuctionListing");import{useMutation as gn,useQueryClient as yn}from"react-query";import ne from"tiny-invariant";function ea(e){let t=e==null?void 0:e.getAddress();return b(u.contract.token.totalSupply(t),()=>(ne(e,"No Contract instance provided"),e.totalSupply()),{enabled:!!e||!!t})}o(ea,"useTokenSupply");function ta(e,t){let n=e==null?void 0:e.getAddress();return b(u.contract.token.balanceOf(n,t),async()=>(ne(e,"No Contract instance provided"),ne(t,"No address provided"),await e.balanceOf(t)),{enabled:!!t&&!!e})}o(ta,"useTokenBalance");function na(e){let t=I(),n=e==null?void 0:e.getAddress(),r=yn();return gn(i=>{var c;let{to:a,amount:s}=i;return ne((c=e==null?void 0:e.mint)==null?void 0:c.to,"contract does not support mint.to"),e.mint.to(a,s)},{onSuccess:(i,a)=>Promise.all([r.invalidateQueries(w(u.contract.token.totalSupply(n),t)),r.invalidateQueries(w(u.contract.token.balanceOf(n,a.to),t))])})}o(na,"useMintToken");export{ka as ChainId,Ea as IpfsStorage,Qe as MediaRenderer,Zo as ThirdwebNftMedia,Hn as ThirdwebProvider,Ut as ThirdwebSDKProvider,ba as defaultChains,xa as defaultL2Chains,Mi as detectErc721Instance,Sa as useAccount,I as useActiveChainId,Bi as useActiveListings,se as useAddress,Vi as useAllListings,x as useBuiltinContract,Ie as useChainId,Ni as useClaimedNFTs,Di as useClaimedNftSupply,Kt as useCoinbaseWallet,M as useConnect,di as useContract,mi as useContractFunctions,pi as useContractMetadata,li as useContractPublishMetadata,ui as useContractType,Gi as useCreateAuctionListing,Hi as useCreateDirectListing,Ee as useDesiredChainId,Kr as useDisconnect,er as useEdition,$n as useEditionDrop,bi as useEditionTotalCount,wi as useEditions,go as useGnosis,wo as useMagic,ar as useMarketplace,no as useMetamask,xi as useMintEdition,Ri as useMintNFT,na as useMintToken,ur as useNFTCollection,rr as useNFTDrop,Ui as useNFTSupply,hn as useNFTs,Po as useNetwork,Eo as useNetworkMismatch,pr as usePack,Zr as useReadonlySDK,qe as useResolvedMediaType,D as useSDK,ke as useSigner,Ar as useSplit,hr as useToken,ta as useTokenBalance,Cr as useTokenDrop,ea as useTokenSupply,Li as useUnclaimedNFTs,_i as useUnclaimedNftSupply,br as useVote,ao as useWalletConnect,lo as useWalletLink};
//# sourceMappingURL=index.mjs.map